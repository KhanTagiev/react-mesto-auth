(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{29:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),o=a(20),c=a.n(o),r=a(8),i=(a(29),a(22)),l=a(2),u=a(3),d=a(13),h=a(14),p=new(function(){function e(t){var a=t.url,n=t.headers;Object(d.a)(this,e),this._url=a,this._headers=n}return Object(h.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"setUserInfo",value:function(e){var t=e.name,a=e.about;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:a})}).then(this._checkResponse)}},{key:"setUserAvatar",value:function(e){var t=e.avatar;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._checkResponse)}},{key:"sendNewCard",value:function(e){var t=e.name,a=e.link;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:a})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){var t=e._id;return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"changeLikeCardStatus",value:function(e,t){var a=e._id;return fetch("".concat(this._url,"/cards/likes/").concat(a),{method:t?"DELETE":"PUT",headers:this._headers}).then(this._checkResponse)}}]),e}())({url:"https://mesto.nomoreparties.co/v1/cohort-22",headers:{authorization:"11e9f0e1-4daa-4439-a2bf-878699998a8c","Content-Type":"application/json"}}),j=a.p+"static/media/header-logo.a6bb34fe.svg",b=a(0);var m=function(e){var t=e.isOpen,a=e.onNavOpen,n=e.onClose,s=e.loggedIn,o=e.userEmail,c=e.onSignOut;return Object(b.jsxs)(u.d,{children:[Object(b.jsx)(u.b,{exact:!0,path:"/",children:Object(b.jsxs)("header",{className:"header page_section-container header_auth-container",children:[Object(b.jsxs)("nav",{className:"header__links-container header__links-container_closed ".concat(t?"header__links-container_opened":""),children:[Object(b.jsx)("p",{className:"header__user-email",children:s?o:""}),Object(b.jsx)(r.c,{onClick:c,className:"header__link header__link_place_main",to:"/sign-in",children:"\u0412\u044b\u0439\u0442\u0438"})]}),Object(b.jsxs)("div",{className:"header__menu-container",children:[Object(b.jsx)("img",{className:"header__logo",src:j,alt:"\u041c\u0435\u0441\u0442\u043e \u0420\u043e\u0441\u0441\u0438\u044f"}),Object(b.jsx)("button",{className:"header__btn-container",type:"button","aria-label":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u0435\u043d\u044e",onClick:t?n:a,children:Object(b.jsx)("span",{className:"header__btn ".concat(t?"header__btn_active":"")})})]})]})}),Object(b.jsx)(u.b,{path:"/sign-in",children:Object(b.jsxs)("header",{className:"header page_section-container",children:[Object(b.jsx)("img",{className:"header__logo",src:j,alt:"\u041c\u0435\u0441\u0442\u043e \u0420\u043e\u0441\u0441\u0438\u044f"}),Object(b.jsx)("nav",{className:"header__links-container",children:Object(b.jsx)(r.c,{className:"header__link",activeClassName:"header_nav-item_active",to:"/sign-up",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})}),Object(b.jsx)(u.b,{path:"/sign-up",children:Object(b.jsxs)("header",{className:"header page_section-container",children:[Object(b.jsx)("img",{className:"header__logo",src:j,alt:"\u041c\u0435\u0441\u0442\u043e \u0420\u043e\u0441\u0441\u0438\u044f"}),Object(b.jsx)("nav",{className:"header__links-container",children:Object(b.jsx)(r.c,{className:"header__link",activeClassName:"header_nav-item_active",to:"/sign-in",children:"\u0412\u043e\u0439\u0442\u0438"})})]})})]})},f=s.a.createContext();var _=function(e){var t=e.onCardClick,a=e.onCardLike,n=e.onCardDelete,o=e.card,c=s.a.useContext(f),r=o.owner._id===c._id,i=o.likes.some((function(e){return e._id===c._id}));return Object(b.jsx)("li",{className:"photo-card",children:Object(b.jsxs)("figure",{className:"photo-card__container",children:[Object(b.jsx)("img",{className:"photo-card__image",src:o.link,alt:o.name,onClick:function(){t(!0,o)}}),Object(b.jsxs)("figcaption",{className:"photo-card__info",children:[Object(b.jsx)("h2",{className:"photo-card__name",children:o.name}),Object(b.jsxs)("div",{className:"photo-card__like-container",children:[Object(b.jsx)("button",{className:"photo-card__btn photo-card__btn_like  ".concat(i?"photo-card__btn_like_active":""),type:"button","aria-label":"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043b\u0430\u0439\u043a",onClick:function(){a(o)}}),Object(b.jsx)("p",{className:"photo-card__like-counter",children:o.likes.length})]})]}),Object(b.jsx)("button",{className:"photo-card__btn photo-card__btn_delete ".concat(r?"photo-card__btn_delete_visible":""),type:"button","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",onClick:function(){t(!1,o),n()}})]})})};var O=function(e){var t=e.onEditAvatar,a=e.onEditProfile,n=e.onAddPlace,o=e.onCardClick,c=e.onCardLike,r=e.onCardDelete,i=e.cards,l=s.a.useContext(f);return Object(b.jsxs)("main",{children:[Object(b.jsxs)("section",{className:"profile page_section-container",children:[Object(b.jsxs)("div",{className:"profile__avatar-container",onClick:t,children:[Object(b.jsx)("img",{className:"profile__avatar",src:l.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(b.jsx)("span",{className:"profile__avatar-hover"})]}),Object(b.jsxs)("div",{className:"profile__info",children:[Object(b.jsxs)("div",{className:"profile__name-info",children:[Object(b.jsx)("h1",{className:"profile__name",children:l.name}),Object(b.jsx)("button",{className:"profile__btn profile__btn_edit",type:"button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",onClick:a})]}),Object(b.jsx)("p",{className:"profile__about",children:l.about})]}),Object(b.jsx)("button",{className:"profile__btn profile__btn_add",type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",onClick:n})]}),Object(b.jsx)("section",{className:"photo-cards page_section-container",children:Object(b.jsx)("ul",{className:"photo-cards__container",children:i.map((function(e){return Object(b.jsx)(_,{onCardClick:o,onCardLike:c,onCardDelete:r,card:e},e._id)}))})})]})},A={formSelector:".form",inputSelector:".form__input",buttonSelector:".form__btn",buttonDisabledClass:"form__btn_disabled",inputErrorSelector:"form__input_type_error",spanErrorSelector:"form__input-error_active"},g=function(){function e(t,a){Object(d.a)(this,e),this._inputSelector=t.inputSelector,this._buttonSelector=t.buttonSelector,this._buttonDisabledClass=t.buttonDisabledClass,this._inputSelectorSelector=t.inputErrorSelector,this._spanErrorSelector=t.spanErrorSelector,this._element=a}return Object(h.a)(e,[{key:"_hasInvalid",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalid()?(this._buttonElement.setAttribute("disabled",!0),this._buttonElement.classList.add(this._buttonDisabledClass)):(this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.remove(this._buttonDisabledClass))}},{key:"_showInputError",value:function(e,t){var a=this._element.querySelector(".".concat(e.name,"-error"));e.classList.add(this._inputErrorSelector),a.textContent=t,a.classList.add(this._spanErrorSelector)}},{key:"_hideInputError",value:function(e){var t=this._element.querySelector(".".concat(e.name,"-error"));e.classList.remove(this._inputErrorSelector),t.classList.remove(this._spanErrorSelector),t.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_setEventListeners",value:function(){var e=this;this._buttonElement=this._element.querySelector(this._buttonSelector),this._toggleButtonState(this._buttonElement),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"clearValidation",value:function(){var e=this;this._inputList.forEach((function(t){(""===t.value||t.validity.valid)&&e._hideInputError(t)})),this._toggleButtonState(this._buttonElement)}},{key:"enableValidation",value:function(){return this._inputList=Array.from(this._element.querySelectorAll(this._inputSelector)),this._setEventListeners(),this._inputList}}]),e}();var v=Object(u.h)((function(e){var t=e.handleLogin,a=s.a.useState(""),n=Object(l.a)(a,2),o=n[0],c=n[1],r=s.a.useState(""),i=Object(l.a)(r,2),u=i[0],d=i[1];return s.a.useEffect((function(){new g(A,document.querySelector(".auth").querySelector(".form")).enableValidation()}),[]),Object(b.jsx)("main",{children:Object(b.jsxs)("section",{className:"auth page_section-container",children:[Object(b.jsx)("h1",{className:"auth__title",children:"\u0412\u0445\u043e\u0434"}),Object(b.jsx)("form",{className:"form",name:"login",onSubmit:function(e){e.preventDefault(),o&&u&&t(o,u)},noValidate:!0,children:Object(b.jsxs)("fieldset",{className:"form__fieldset form__fieldset_place_auth",children:[Object(b.jsxs)("label",{className:"form__label",children:[Object(b.jsx)("input",{className:"form__input form__input_email form__input_place_auth",type:"email",value:o,placeholder:"Email",name:"auth-email",minLength:"2",maxLength:"40",required:!0,onChange:function(e){c(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error auth-email-error"})]}),Object(b.jsxs)("label",{className:"form__label",children:[Object(b.jsx)("input",{className:"form__input form__input_about form__input_place_auth",type:"password",value:u,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"auth-password",minLength:"8",maxLength:"200",required:!0,pattern:"^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s).*$",title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0438 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0446\u0438\u0444\u0440\u044b.",onChange:function(e){d(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error auth-password-error"})]}),Object(b.jsx)("button",{className:"form__btn form__btn_save form__btn_place_auth form__btn_disabled",type:"submit","aria-label":"\u0412\u043e\u0439\u0442\u0438",disabled:!0,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})})}));var x=Object(u.h)((function(e){var t=e.handleRegister,a=s.a.useState(""),n=Object(l.a)(a,2),o=n[0],c=n[1],i=s.a.useState(""),u=Object(l.a)(i,2),d=u[0],h=u[1];return s.a.useEffect((function(){new g(A,document.querySelector(".auth").querySelector(".form")).enableValidation()}),[]),Object(b.jsx)("main",{children:Object(b.jsxs)("section",{className:"auth page_section-container",children:[Object(b.jsx)("h1",{className:"auth__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(b.jsx)("form",{className:"form",name:"login",onSubmit:function(e){e.preventDefault(),o&&d&&t(o,d)},noValidate:!0,children:Object(b.jsxs)("fieldset",{className:"form__fieldset form__fieldset_place_auth",children:[Object(b.jsxs)("label",{className:"form__label",children:[Object(b.jsx)("input",{className:"form__input form__input_email form__input_place_auth",type:"email",value:o,placeholder:"Email",name:"auth-email",minLength:"2",maxLength:"40",required:!0,onChange:function(e){c(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error auth-email-error"})]}),Object(b.jsxs)("label",{className:"form__label",children:[Object(b.jsx)("input",{className:"form__input form__input_about form__input_place_auth",type:"password",value:d,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"auth-password",minLength:"8",maxLength:"200",required:!0,pattern:"^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s).*$",title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0438 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0446\u0438\u0444\u0440\u044b.",onChange:function(e){h(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error auth-password-error"})]}),Object(b.jsx)("button",{className:"form__btn form__btn_save form__btn_place_auth form__btn_disabled",type:"submit","aria-label":"\u0412\u043e\u0439\u0442\u0438",disabled:!0,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})}),Object(b.jsx)(r.b,{className:"auth__link",to:"/sign-in",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"})]})})}));var C=function(){return Object(b.jsx)("footer",{className:"footer page_section-container",children:Object(b.jsx)("p",{className:"footer__copyright",children:"\xa9 2021. Mesto Russia"})})};var N=function(e){var t=e.name,a=e.isOpen,n=e.onClose,o=e.children;function c(e){(e.target.classList.contains("popup__btn_close")||e.target.classList.contains("popup"))&&(n(),document.removeEventListener("click",c),document.removeEventListener("keydown",r))}function r(e){"Escape"===e.key&&(n(),document.removeEventListener("click",c),document.removeEventListener("keydown",r))}return s.a.useEffect((function(){a&&(document.addEventListener("click",c),document.addEventListener("keydown",r))}),[a]),Object(b.jsx)("section",{className:"popup popup_".concat(t," ").concat(a?"popup_opened":""),children:Object(b.jsxs)("div",{className:"popup__container popup__container_".concat(t),children:[o,Object(b.jsx)("button",{className:"popup__btn popup__btn_close",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u0435\u0441\u0442\u0430",onClick:n})]})})};var S=function(e){var t=e.name,a=e.title,n=e.isOpen,s=e.onClose,o=e.onSubmit,c=e.buttonText,r=e.children;return Object(b.jsxs)(N,{name:t,isOpen:n,onClose:s,children:[Object(b.jsx)("h2",{className:"popup__title",children:a}),Object(b.jsx)("form",{className:"form",name:"".concat(t,"-info"),noValidate:!0,onSubmit:o,children:Object(b.jsxs)("fieldset",{className:"form__fieldset form__fieldset_".concat(t),children:[r,Object(b.jsx)("button",{className:"form__btn form__btn_save",type:"submit","aria-label":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:c})]})})]})};var k=function(e){var t=e.isOpen,a=e.onClose,n=e.onUpdateUser,o=s.a.useState("\u0416\u0430\u043a-\u0418\u0432 \u041a\u0443\u0441\u0442\u043e"),c=Object(l.a)(o,2),r=c[0],i=c[1],u=s.a.useState("\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u043a\u0435\u0430\u043d\u0430"),d=Object(l.a)(u,2),h=d[0],p=d[1],j=s.a.useContext(f);return s.a.useEffect((function(){i(j.name),p(j.about)}),[j,t]),Object(b.jsxs)(S,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"profile",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n({name:r,about:h})},buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(b.jsxs)("label",{className:"form__label",children:[Object(b.jsx)("input",{className:"form__input form__input_name",type:"text",value:r,placeholder:"\u0418\u043c\u044f",name:"profile-name",minLength:"2",maxLength:"40",required:!0,onChange:function(e){i(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error profile-name-error"})]}),Object(b.jsxs)("label",{className:"form__label",children:[Object(b.jsx)("input",{className:"form__input form__input_about",type:"text",value:h,placeholder:"\u041e \u0441\u0435\u0431\u0435",name:"profile-about",minLength:"2",maxLength:"200",required:!0,onChange:function(e){p(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error profile-about-error"})]})]})};var y=function(e){var t=e.isOpen,a=e.onClose,n=e.onUpdateAvatar,o=s.a.useRef();return Object(b.jsx)(S,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"avatar",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n({avatar:o.current.value})},buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:Object(b.jsxs)("label",{className:"form__label",children:[Object(b.jsx)("input",{ref:o,className:"form__input form__input_avatar",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",name:"avatar-url",required:!0}),Object(b.jsx)("span",{className:"form__input-error avatar-url-error"})]})})};var E=function(e){var t=e.isOpen,a=e.onClose,n=e.onAddPlace,o=s.a.useState(""),c=Object(l.a)(o,2),r=c[0],i=c[1],u=s.a.useState(""),d=Object(l.a)(u,2),h=d[0],p=d[1];function j(){i(""),p("")}return Object(b.jsxs)(S,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"photo-card",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),n({name:r,link:h},j)},buttonText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",children:[Object(b.jsxs)("label",{className:"form__label",children:[Object(b.jsx)("input",{className:"form__input form__input_site",value:r,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"photo-card-site",minLength:"2",maxLength:"30",required:!0,onChange:function(e){i(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error photo-card-site-error"})]}),Object(b.jsxs)("label",{className:"form__label",children:[Object(b.jsx)("input",{className:"form__input form__input_url",value:h,type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",name:"photo-card-url",required:!0,onChange:function(e){p(e.target.value)}}),Object(b.jsx)("span",{className:"form__input-error photo-card-url-error"})]})]})};var Q=function(e){var t=e.isOpen,a=e.card,n=e.onClose,s=e.onDeleteCard;return Object(b.jsx)(S,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"photo-card-delete",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),s(a)},buttonText:"\u0414\u0430"})};var w=function(e){var t=e.card,a=e.onClose;return Object(b.jsx)(N,{name:"photo-view",isOpen:t.isClicked,onClose:a,children:Object(b.jsxs)("figure",{className:"photo-view",children:[Object(b.jsx)("img",{src:t.url,alt:t.name,className:"photo-view__image"}),Object(b.jsx)("figcaption",{className:"photo-view__info",children:Object(b.jsx)("h2",{className:"photo-view__name",children:t.name})})]})})},L=a.p+"static/media/success.1b6082f8.svg",I=a.p+"static/media/error.df8eddf6.svg";var B=function(e){var t=e.isOpen,a=e.onClose,n=e.status;return Object(b.jsx)("section",{className:"popup popup_info-tooltip ".concat(t?"popup_opened":""),children:Object(b.jsxs)("div",{className:"popup__container popup__container_place_info-tooltip",children:[Object(b.jsx)("img",{className:"popup__info-image",src:n?L:I,alt:n?"\u0423\u0441\u043f\u0435\u0448\u043d\u043e":"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(b.jsx)("p",{className:"popup__info-text",children:n?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}),Object(b.jsx)("button",{className:"popup__btn popup__btn_close",type:"button","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e",onClick:a})]})})},T=a(23),H=a(24),q=["component"],D=function(e){var t=e.component,a=Object(H.a)(e,q);return Object(b.jsx)(u.b,{children:function(){return a.loggedIn?Object(b.jsx)(t,Object(T.a)({},a)):Object(b.jsx)(u.a,{to:"/sign-in"})}})},U="https://auth.nomoreparties.co";function K(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}var R=function(){var e=Object(u.g)(),t=s.a.useState({name:"\u0416\u0430\u043a-\u0418\u0432 \u041a\u0443\u0441\u0442\u043e",about:"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u043a\u0435\u0430\u043d\u0430",avatar:"data:image/jpeg;base64,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"}),a=Object(l.a)(t,2),n=a[0],o=a[1],c=s.a.useState([]),r=Object(l.a)(c,2),d=r[0],h=r[1],j=s.a.useState(!1),_=Object(l.a)(j,2),N=_[0],S=_[1],L=s.a.useState(""),I=Object(l.a)(L,2),T=I[0],H=I[1],q=s.a.useState(),R=Object(l.a)(q,2),V=R[0],M=R[1],W=s.a.useState(),F=Object(l.a)(W,2),J=F[0],P=F[1],Y=s.a.useState(),z=Object(l.a)(Y,2),Z=z[0],G=z[1];s.a.useEffect((function(){Le(),M(we(".popup_profile")),P(we(".popup_avatar")),G(we(".popup_photo-card"))}),[]),s.a.useEffect((function(){Promise.all([p.getUserInfo(),p.getInitialCards()]).then((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];o(a),h(n)})).catch((function(e){return console.log(e)}))}),[]),s.a.useEffect((function(){void 0!==V&&V.enableValidation()}),[V]),s.a.useEffect((function(){void 0!==J&&J.enableValidation()}),[J]),s.a.useEffect((function(){void 0!==Z&&Z.enableValidation()}),[Z]);var X=s.a.useState(!1),$=Object(l.a)(X,2),ee=$[0],te=$[1],ae=s.a.useState(!1),ne=Object(l.a)(ae,2),se=ne[0],oe=ne[1],ce=s.a.useState(!1),re=Object(l.a)(ce,2),ie=re[0],le=re[1],ue=s.a.useState(!1),de=Object(l.a)(ue,2),he=de[0],pe=de[1],je=s.a.useState(!1),be=Object(l.a)(je,2),me=be[0],fe=be[1],_e=s.a.useState(!1),Oe=Object(l.a)(_e,2),Ae=Oe[0],ge=Oe[1],ve=s.a.useState({isClicked:!1,name:"",url:"",_id:""}),xe=Object(l.a)(ve,2),Ce=xe[0],Ne=xe[1],Se=s.a.useState(!1),ke=Object(l.a)(Se,2),ye=ke[0],Ee=ke[1];function Qe(){te(!1),le(!1),oe(!1),fe(!1),pe(!1),ge(!1),Ne({isClicked:!1,name:"",url:"",_id:""}),V.clearValidation(),J.clearValidation(),Z.clearValidation()}function we(e){var t=document.querySelector(e).querySelector(".form");return new g(A,t)}function Le(){var t,a=localStorage.getItem("jwt");a&&(t=a,fetch("".concat(U,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return K(e)}))).then((function(t){H(t.data.email),S(!0),e.push("/")})).catch((function(e){localStorage.removeItem("jwt"),console.log(e)}))}return Object(b.jsx)(f.Provider,{value:n,children:Object(b.jsxs)("div",{className:"page",children:[Object(b.jsx)(m,{loggedIn:N,userEmail:T,isOpen:Ae,onNavOpen:function(){ge(!0)},onClose:Qe,onSignOut:function(){localStorage.removeItem("jwt"),S(!1),H(""),e.push("/sign-in")}}),Object(b.jsxs)(u.d,{children:[Object(b.jsx)(D,{exact:!0,path:"/",loggedIn:N,component:O,onEditProfile:function(){te(!0)},onAddPlace:function(){oe(!0)},onEditAvatar:function(){le(!0)},onCardClick:function(e,t){Ne({isClicked:e,name:t.name,url:t.link,_id:t._id})},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===n._id}));p.changeLikeCardStatus(e,t).then((function(t){h((function(a){return a.map((function(a){return a._id===e._id?t:a}))}))})).catch((function(e){return console.log(e)}))},onCardDelete:function(){fe(!0)},cards:d}),Object(b.jsx)(u.b,{path:"/sign-in",children:Object(b.jsx)(v,{handleLogin:function(e,t){(function(e,t){return fetch("".concat(U,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return K(e)}))})(e,t).then((function(e){localStorage.setItem("jwt",e.token),Le()})).catch((function(e){Ee(!1),pe(!0)}))}})}),Object(b.jsx)(u.b,{path:"/sign-up",children:Object(b.jsx)(x,{handleRegister:function(e,t){(function(e,t){return fetch("".concat(U,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return K(e)}))})(e,t).then((function(e){Ee(!0),pe(!0)})).catch((function(e){Ee(!1),pe(!0)}))}})}),Object(b.jsx)(u.b,{path:"",children:N?Object(b.jsx)(u.a,{to:"/"}):Object(b.jsx)(u.a,{to:"/sign-in"})})]}),Object(b.jsx)(k,{isOpen:ee,onClose:Qe,onUpdateUser:function(e){p.setUserInfo(e).then((function(e){o(e),Qe()})).catch((function(e){return console.log(e)}))}}),Object(b.jsx)(y,{isOpen:ie,onClose:Qe,onUpdateAvatar:function(e){p.setUserAvatar(e).then((function(e){o(e),Qe()})).catch((function(e){return console.log(e)}))}}),Object(b.jsx)(E,{isOpen:se,onClose:Qe,onAddPlace:function(e,t){p.sendNewCard(e).then((function(e){h([e].concat(Object(i.a)(d))),t(),Qe()})).catch((function(e){return console.log(e)}))}}),Object(b.jsx)(w,{card:Ce,onClose:Qe}),Object(b.jsx)(Q,{card:Ce,isOpen:me,onClose:Qe,onDeleteCard:function(e){p.deleteCard(e).then((function(){h(d.filter((function(t){return t._id!==e._id}))),Qe()})).catch((function(e){return console.log(e)}))}}),Object(b.jsx)(B,{isOpen:he,onClose:Qe,status:ye}),Object(b.jsx)(C,{})]})})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,37)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),o(e),c(e)}))};c.a.render(Object(b.jsx)(r.a,{children:Object(b.jsx)(R,{})}),document.getElementById("root")),V()}},[[36,1,2]]]);
//# sourceMappingURL=main.ea2639e5.chunk.js.map